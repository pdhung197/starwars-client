(this["webpackJsonpstarwars-client"]=this["webpackJsonpstarwars-client"]||[]).push([[0],{48:function(e,a,t){e.exports=t(87)},70:function(e,a,t){},73:function(e,a,t){},74:function(e,a,t){},75:function(e,a,t){},79:function(e,a,t){var n={"./people.png":80,"./planet.png":81,"./starship.png":82,"./vehicles.png":83};function r(e){var a=l(e);return t(a)}function l(e){if(!t.o(n,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return n[e]}r.keys=function(){return Object.keys(n)},r.resolve=l,e.exports=r,r.id=79},80:function(e,a,t){e.exports=t.p+"static/media/people.5cc2d89b.png"},81:function(e,a,t){e.exports=t.p+"static/media/planet.8d9481f5.png"},82:function(e,a,t){e.exports=t.p+"static/media/starship.f7e7871e.png"},83:function(e,a,t){e.exports=t.p+"static/media/vehicles.71f41fb5.png"},84:function(e,a,t){e.exports=t.p+"static/media/star-wars-logo-png-3-transparent.62a19047.png"},85:function(e,a,t){},86:function(e,a,t){},87:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),l=t(13),o=t.n(l),i=t(12),c=t(4);var s=function(){return console.log("This is the process.env","/starwars-client"),r.a.createElement(r.a.Fragment,null)},u=t(19),m=t(15),d=t(16),h=t(18),p=t(17),v="https://starwars-api-pdhung.herokuapp.com/api/",b=t(39),g=t.n(b),f=t(92),k=function(e,a,t,n){var r=Object(u.a)(Object(u.a)({},a),{},{url:e}),l=new Headers;return l.append("x-request-id",Object(f.a)({msecs:(new Date).getTime()})),l.append("Accept","application/json"),l.append("Content-Type","application/json"),g()(r).then((function(e){return t&&t(e),e})).catch((function(e){console.log({error:e}),n&&n(e)}))};function y(e,a){var t=new URL(e);return null!=a&&Object.keys(a).forEach((function(e){return t.searchParams.append(e,a[e])})),t}var w=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};a=Object.assign({},a);var t={method:"get"},n="".concat(v).concat(e,"/"),r=y(n,a);return k(r,t)},E=t(91),N={vehiclesColumns:[{key:"avatar",label:"Avatar",showDetail:!1},{key:"name",label:"Name",minWidth:200,showDetail:!1},{key:"model",label:"Model"},{key:"passengers",label:"Passengers"},{key:"vehicle_class",label:"Vehicles class",minWidth:200},{key:"manufacturer",label:"Manufacturer",show:!1},{key:"length",label:"Length",show:!1},{key:"max_atmosphering_speed",label:"Max atmosphering speed",show:!1},{key:"cargo_capacity",label:"Cargo capacity",show:!1},{key:"consumables",label:"Consumables",show:!1}],starshipsColumns:[{key:"avatar",label:"Avatar",showDetail:!1},{key:"name",label:"Name",showDetail:!1},{key:"model",label:"Model"},{key:"manufacturer",label:"Manufacturer"},{key:"passengers",label:"Passengers"},{key:"length",label:"Length",show:!1},{key:"max_atmosphering_speed",label:"Max atmosphering speed",show:!1},{key:"cargo_capacity",label:"Cargo capacity",show:!1},{key:"consumables",label:"Consumables",show:!1},{key:"starship_class",label:"Starship class",show:!1}],peopleColumns:[{key:"avatar",label:"Avatar",showDetail:!1},{key:"name",label:"Name",showDetail:!1},{key:"gender",label:"Gender"},{key:"birth_year",label:"Birth year"},{key:"height",label:"Height",show:!1},{key:"mass",label:"Mass",show:!1},{key:"Hair_color",label:"Hair color",show:!1},{key:"skin_color",label:"Skin color",show:!1},{key:"eye_color",label:"Eye color",show:!1}],planetsColumns:[{key:"avatar",label:"Avatar",showDetail:!1},{key:"name",label:"Name",showDetail:!1},{key:"terrain",label:"Terrain"},{key:"population",label:"Population"},{key:"rotation_period",label:"Rotation period",show:!1},{key:"orbital_period",label:"Obital period",show:!1},{key:"diameter",label:"Diameter",show:!1},{key:"climate",label:"Climate",show:!1},{key:"gravity",label:"Gravity",show:!1},{key:"surface_water",label:"Surface water",show:!1}]};t(70);var _=function(e){var a=e||{},t=a.data,n=a.onHide,l=a.className,o=void 0===l?"":l,i=a.dataName,c=t||{},s=c.title,u=void 0===s?"":s,m=c.image,d=void 0===m?"":m,h=c.body,p=void 0===h?{}:h;return r.a.createElement(E.a,{show:!!t,onHide:function(){return n()},dialogClassName:"detail-view__modal ".concat(o," modal-lg"),"aria-labelledby":"detail-view-modal"},r.a.createElement(E.a.Header,{closeButton:!0}),r.a.createElement(E.a.Body,{className:"detail-view__body"},r.a.createElement("div",{className:"detail-view__main-img"},r.a.createElement("img",{className:"",src:d,alt:u})),r.a.createElement("h1",{className:"detail-view__title"},u),r.a.createElement("ul",{className:"detail-view__detail"},(N["".concat(i,"Columns")]||[]).map((function(e,a){return!1===e.showDetail?null:r.a.createElement("li",{key:a},r.a.createElement("p",null,r.a.createElement("span",{className:"detail-view__detail--label"},e.label," :"),r.a.createElement("span",{className:"detail-view__detail--content"},p[e.key]||"")))})))))};t(73);var C=function(e){var a=e||{},t=a.paginData,n=a.handleChangeActivedPage,l=a.handleNextOrPreviousPage,o=t||{},i=o.page,c=void 0===i?1:i,s=o.totalPage,u=void 0===s?0:s,m=u>5?5:u,d=c+2>u?u:c+2>m?c+2:m,h=d-m<1?1:d-m,p=function(e,a){return e.preventDefault(),isNaN(a)?l(a):n(a)};return r.a.createElement("ul",{className:"pagination"},r.a.createElement("li",{className:"page-item ".concat(1===c?"disabled":"")},r.a.createElement("a",{className:"page-link",href:"/","aria-label":"Previous",onClick:function(e){return p(e,"prv")},disabled:1===c},r.a.createElement("span",{"aria-hidden":"true"},"\xab"))),Array.from({length:d-h+1},(function(e,a){var t=a+h;return r.a.createElement("li",{key:a,className:"page-item ".concat(c===t?"active":"")},r.a.createElement("a",{className:"page-link",href:"/",onClick:function(e){return c===t?e.preventDefault():p(e,t)},disabled:c===t},t))})),r.a.createElement("li",{className:"page-item ".concat(c===u?"disabled":"")},r.a.createElement("a",{className:"page-link",href:"/","aria-label":"Next",onClick:function(e){return p(e,"next")},disabled:c===u},r.a.createElement("span",{"aria-hidden":"true"},"\xbb"))))},O=function(e){Object(h.a)(t,e);var a=Object(p.a)(t);function t(){return Object(m.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props||{},a=e.rowData,t=void 0===a?{}:a,n=e.columns,l=void 0===n?[]:n,o=e.handleOnClickRow;return r.a.createElement("tr",{className:"".concat(o?"table__row--clickable":""),onClick:function(){return!!o&&o(t)}},l.map((function(e,a){var n=e||{},l=n.key,o=n.customCell,i=o?o(t):t[l];return r.a.createElement("td",{className:"",key:a},i)})))}}]),t}(n.Component),D=function(e){Object(h.a)(t,e);var a=Object(p.a)(t);function t(){return Object(m.a)(this,t),a.apply(this,arguments)}return Object(d.a)(t,[{key:"render",value:function(){var e=this.props||{},a=e.tableHeaders,t=void 0===a?[]:a,n=e.tableColumns,l=void 0===n?[]:n,o=e.bodyData,i=void 0===o?[]:o,c=e.noPagination,s=void 0!==c&&c,u=e.footerData,m=void 0===u?[]:u,d=e.handleChangeActivedPage,h=void 0===d?function(){}:d,p=e.handleNextOrPreviousPage,v=void 0===p?function(){}:p,b=e.handleOnClickRow,g=e.className,f=void 0===g?"":g;return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"table-responsive ".concat(f)},r.a.createElement("table",{className:"table table-striped table-hover"},r.a.createElement("thead",null,r.a.createElement("tr",null,t.map((function(e,a){return r.a.createElement("th",{key:a},e)})))),r.a.createElement("tbody",null,i&&i.length?i.map((function(e,a){return r.a.createElement(O,{key:a,rowData:e,columns:l,handleOnClickRow:b})})):r.a.createElement("tr",null,r.a.createElement("td",{colSpan:t.length},r.a.createElement("p",{className:"no-data"},"Nothing to show")))))),!s&&r.a.createElement(C,{paginData:m,handleChangeActivedPage:h,handleNextOrPreviousPage:v}))}}]),t}(n.Component);t(74);var j=function(e){var a=e||{},t=a.inputValue,n=a.onSearch,l=void 0===n?function(){}:n,o=a.onInputChange,i=void 0===o?function(){}:o,c=a.placeholder,s=void 0===c?"":c,u={};return void 0!==t&&(u.value=t,u.onChange=i),r.a.createElement("div",{className:"input-group search-group"},r.a.createElement("input",Object.assign({type:"text",className:"form-control search-group__input",placeholder:s,"aria-label":s,"aria-describedby":"button-search",onKeyPress:function(e){"Enter"===e.key&&l()}},u)),r.a.createElement("div",{className:"input-group-append"},r.a.createElement("button",{className:"btn search-group__btn",type:"button",id:"button-search",onClick:l},"Search")))},P=[{key:"planets",label:"Planets",img:"planet.png",route:"/data/planets"},{key:"people",label:"Peoples",img:"people.png",route:"/data/people"},{key:"starships",label:"Starships",img:"starship.png",route:"/data/starships"},{key:"vehicles",label:"Vehicles",img:"vehicles.png",route:"/data/vehicles"}],x={planets:"Planets",people:"People",starships:"Starships",vehicles:"Vehicles"},S=(t(75),function(e){Object(h.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).handleFetchData=function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{page:1},t=n.state||{},r=t.search,l=a.page,o=void 0===l?1:l;r&&r.length&&(a.search=r),w(e,a).then((function(e){var a=(e||{}).data,t=(a=void 0===a?{}:a).count,r=void 0===t?0:t,l=a.results,i=void 0===l?[]:l;n.setState({dataList:i,footerData:Object(u.a)(Object(u.a)({},n.state.footerData),{},{page:o,count:r,totalPage:Math.ceil(r/n.state.footerData.limit)})})})).catch((function(e){console.log({error:e})}))},n.handleSearchChange=function(e){var a=e.target.value;n.setState({search:a})},n.handleChangeActivedPage=function(e){var a=(n.props||{}).match,t=(a=void 0===a?{}:a).params,r=(t=void 0===t?{}:t).dataName,l={page:e};n.handleFetchData(r,l)},n.handleNextOrPreviousPage=function(e){var a=(n.props||{}).match,t=(a=void 0===a?{}:a).params,r=(t=void 0===t?{}:t).dataName,l=n.state.footerData.page,o={page:"prv"===e?l-1:l+1};n.handleFetchData(r,o)},n.handleCloseDetailView=function(){n.setState({detailCharacter:null})},n.handleGetDetailItem=function(e){n.setState({detailCharacter:{title:e.name,image:e.avatar,body:e}})},n.getTableHeaders=function(){var e=(n.props||{}).match,a=(e=void 0===e?{}:e).params,t=(a=void 0===a?{}:a).dataName;return(N["".concat(t,"Columns")]||[]).reduce((function(e,a){var t=a.key,n=a.label,l=a.show,o=void 0===l||l,i=a.width,c=a.minWidth,s={};return i&&(s.width=i),c&&(s.minWidth=c),o&&e.push(r.a.createElement("div",{key:t,style:s},n)),e}),[])},n.getTableColumns=function(){var e=(n.props||{}).match,a=(e=void 0===e?{}:e).params,t=(a=void 0===a?{}:a).dataName;return(N["".concat(t,"Columns")]||[]).reduce((function(e,a){var t=Object(u.a)({},a);if(!1===t.show)return e;switch(t.key){case"avatar":t.customCell=function(e){var a="".concat(e.avatar).concat(e.avatar.includes("?")?"&width=160":"?width=160");return r.a.createElement("div",{className:"table__cell--avatar"},r.a.createElement("img",{src:a,alt:e.name}))}}return e.push(t),e}),[])},n.state={dataList:[],footerData:{page:1,count:0,totalPage:0,limit:10},search:"",detailCharacter:null},n}return Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=(this.props||{}).match,a=(e=void 0===e?{}:e).params,t=(a=void 0===a?{}:a).dataName,n=(this.state||{}).footerData,r=(n=void 0===n?{}:n).page,l={page:void 0===r?1:r};this.handleFetchData(t,l)}},{key:"shouldComponentUpdate",value:function(e){var a=this,t=(this.props||{}).match,n=(t=void 0===t?{}:t).params,r=(n=void 0===n?{}:n).dataName,l=(e||{}).match,o=(l=void 0===l?{}:l).params,i=(o=void 0===o?{}:o).dataName;return r!==i&&this.setState({dataList:[],footerData:{page:1,count:0,totalPage:0,limit:10},search:"",detailCharacter:null},(function(){return a.handleFetchData(i,{page:1})})),!0}},{key:"render",value:function(){var e=this,a=(this.props||{}).match,t=(a=void 0===a?{}:a).params,n=(t=void 0===t?{}:t).dataName,l=this.state||{},o=l.dataList,i=l.footerData,c=l.detailCharacter,s=l.search;return r.a.createElement("div",{className:"dataview"},r.a.createElement("div",{className:"dataview__header"},r.a.createElement("div",{className:"dataview__title"},r.a.createElement("h1",null,x[n]||"Data"," list view")),r.a.createElement("div",{className:"dataview__tool"},r.a.createElement(j,{onInputChange:this.handleSearchChange,onSearch:function(){return e.handleFetchData(n)},inputValue:s,placeholder:"Enter ".concat(n,"'s name to search")}))),r.a.createElement(D,{className:"dataview__table",bodyData:o,tableHeaders:this.getTableHeaders(),tableColumns:this.getTableColumns(),footerData:i,handleChangeActivedPage:this.handleChangeActivedPage,handleNextOrPreviousPage:this.handleNextOrPreviousPage,handleOnClickRow:this.handleGetDetailItem}),r.a.createElement(_,{data:c,onHide:this.handleCloseDetailView,dataName:n}))}}]),t}(n.Component)),H=Object(c.f)(S),W=t(46),R=t(45);var A=function(e){var a=e||{},n=a.route,l=a.img,o=a.label;return r.a.createElement(i.b,{to:n},r.a.createElement("div",{className:"starwars-nav__item--img"},r.a.createElement("img",{src:t(79)("./".concat(l)),alt:""})),r.a.createElement("span",null,o))};var M=function(e){var a=(e||{}).onClick,n=void 0===a?function(){}:a;return r.a.createElement(i.b,{to:"/",onClick:n},r.a.createElement("img",{src:t(84),alt:""}))},F=t(23),L=function(e){Object(h.a)(t,e);var a=Object(p.a)(t);function t(e){var n;return Object(m.a)(this,t),(n=a.call(this,e)).handleClickOutsideHambuger=function(e){if(n.buttonWrapperRef&&!n.buttonWrapperRef.contains(e.target)){var a=n.props||{},t=a.open,r=void 0!==t&&t,l=a.onClick;r&&(void 0===l?function(){}:l)()}},n.setButtonWrapperRef=n.setButtonWrapperRef.bind(Object(F.a)(n)),n}return Object(d.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("mousedown",this.handleClickOutsideHambuger)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("mousedown",this.handleClickOutsideHambuger)}},{key:"setButtonWrapperRef",value:function(e){this.buttonWrapperRef=e}},{key:"render",value:function(){var e=this.props||{},a=e.className,t=void 0===a?"":a,n=e.onClick,l=void 0===n?function(){}:n;return r.a.createElement("button",{ref:this.setButtonWrapperRef,className:"starwars-nav__ham starwars-nav-home__ham ".concat(t),onClick:l},r.a.createElement("div",null))}}]),t}(n.Component);t(85);var B=Object(c.f)((function(e){var a=e||{},t=a.match,l=(t=void 0===t?{}:t).isExact,o=void 0!==l&&l,i=a.location,c=(i=void 0===i?{}:i).pathname,s=void 0===c?"/":c,u=Object(n.useState)(!1),m=Object(R.a)(u,2),d=m[0],h=m[1];return r.a.createElement("nav",{className:"starwars-nav ".concat(o?"starwars-nav-home":""," ").concat(d?"nav-open":"")},r.a.createElement("div",{className:"starwars-nav__head"},r.a.createElement(L,{open:d,onClick:function(){return h(!d)}}),r.a.createElement("div",{className:"starwars-nav__logo"},r.a.createElement(M,null))),r.a.createElement("ul",{className:"starwars-nav__list"},(P||[]).map((function(e){var a=e||{},t=a.key,n=Object(W.a)(a,["key"]);return r.a.createElement("li",{className:"starwars-nav__item ".concat(s.startsWith(n.route)?"starwars-nav__item--active":""),key:t},r.a.createElement(A,n))}))))}));var T=function(){return r.a.createElement(i.a,{basename:"/starwars-client"},r.a.createElement(B,null),r.a.createElement("section",{role:"main"},r.a.createElement(c.c,null,r.a.createElement(c.a,{exact:!0,path:"/",component:s}),r.a.createElement(c.a,{path:"/data/:dataName",component:H}))))};var V=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(T,null),r.a.createElement("div",{id:"star-bg"},r.a.createElement("div",{id:"star-small"}),r.a.createElement("div",{id:"star-medium"}),r.a.createElement("div",{id:"star-big"})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(86);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(V,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[48,1,2]]]);
//# sourceMappingURL=main.3a284256.chunk.js.map